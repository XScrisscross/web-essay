<!DOCTYPE html>
<html lang='en'>

<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <meta http-equiv='X-UA-Compatible' content='ie=edge'>
    <title>Document</title>
    <script src='vue_2.5.22.js'></script>
    <script src='vue-router_3.0.2.js'></script>
</head>

<body>
    <div id='app'>
        <router-link to="/music">音乐</router-link>
        <router-link to="/movie">电影</router-link>

        <!-- 动态路由 -->
        <!-- v6.0 编程式导航 -->
        <router-link to="/user/1">用户1</router-link>
        <router-link to="/user/2">用户2</router-link>

        <!-- 命名路由的方式 -->
        <!-- 注意此处需要属性绑定 -->
        <router-link :to="{name:'fucker',params:{id:666} }">funcker</router-link>
        <router-view />
    </div>


    <script>
        // v1.0 路由创建
        const music = {
            template: `<div>音乐列表</div>`
        }

        const movie = {
            // 嵌套路由
            template: `
                <div>
                    <router-link to="/movie/active">动作电影</router-link>
                    <router-link to="/movie/thriller">惊悚电影</router-link>

                    <router-view />
                </div>
            `
        }

        const active = {
            template: `<div>
                <p>动作</p>
                <p>动作</p>
                <p>动作</p>
                <p>动作</p>
                <p>动作</p>
                <p>动作</p>
                <p>动作</p>
                <p>动作</p>
                <p>动作</p>
                <p>动作</p>
            </div>`
        }

        const thriller = {
            template: `<div>
                <p>惊悚</p>
                <p>惊悚</p>
                <p>惊悚</p>
                <p>惊悚</p>
                <p>惊悚</p>
                <p>惊悚</p>
                <p>惊悚</p>
                <p>惊悚</p>
                <p>惊悚</p>
                <p>惊悚</p>
            </div>`
        }

        // v1.0 注意 , 此处参数为 $route
        // const user = {
        //     template: `<div>
        //         <p>用户{{$route.params.id}}</p>
        //     </div>`
        // }

        // v2.0 props传参(变量/对象)
        // 无法同时支持路径传参和对象传参   prop:true 路径    prop:{} 对象
        const user = {
            props: ["id", "name", "age"],
            template: `<div>
                <p>用户{{id}} -- {{name}} -- {{age}}</p>
                <button  @click="goMove">跳转到用户1</button>
                <button  @click="goBack">回退</button>
            </div>`,
            methods: {
                goMove() {
                    // 不管怎么跳,带着各种参数,还是用通过路由地址/参数来跳转
                    // 参数 (字符串 对象 命名路由 以及 查询参数??)
                    this.$router.push("/user/1")

                    //  查询参数??
                    // this.$router.push({ path: "/user", query: { username: "lishi" } })

                },
                goBack() {吧h
                    this.$router.go(-1)
                }
            }
        }

        const fucker = {
            props: ["id", "name", "age"],
            template: `<div>
                <p>用户{{id}} -- {{name}} -- {{age}}</p>
            </div>`
        }

        const router = new VueRouter({
            // 路由处
            routes: [
                { path: "/", redirect: "/music" },
                { path: "/music", component: music },
                {
                    path: "/movie", component: movie, children: [
                        { path: "/movie", redirect: "/movie/active" },
                        { path: "/movie/active", component: active },
                        { path: "/movie/thriller", component: thriller },
                    ]
                },
                // 动态路由
                // { path: "/user/:id", component: user, props: true },
                // v3.0 对象路径传参混用
                // { path: "/user/:id", component: user, props: { name: "张三", age: 12 } },

                // v4.0 即在路径又在对象中如何传值  => 通过函数的方式
                { path: "/user/:id", component: user, props: route => ({ name: "张三", age: 12, id: route.params.id }) },

                // v5.0 命名路由
                {
                    name: "fucker",
                    path: "fucker/:id",
                    component: fucker,
                    props: route => ({ name: "里斯", age: 112, id: route.params.id }),
                }

            ]
        })

        new Vue({
            el: '#app',
            router: router,
        })
    </script>
</body>

</html>